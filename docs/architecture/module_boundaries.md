# Межі модулів та імпорти

## Головна ідея

Кожен пакет має свою відповідальність. Це зменшує зв'язність, пришвидшує дебаг і не дозволяє вирости "god-module".

## Межі пакетів

- **core/** — спільні SSOT-утиліти: серіалізація, форматтери, контракти. Без бізнес-логіки.
- **Stage* / smc_*** — бізнес-логіка та доменні правила (SMC, ліквідність, структура, зони).
- **data/** — ingestion/зберігання/адаптери даних (Redis/диск/стрім). Без рішень стратегії.
- **UI/** та **UI_v2/** — адаптери/представлення (render/view/state building). Не перераховують індикатори та стратегії.

## Дозволені напрямки імпорту (спрощено)

- UI*, data*, Stage* **можуть** імпортувати `core.*`.
- `core.*` **не може** імпортувати Stage*/UI*/data* (щоб не створювати цикли та приховані залежності).

## Що не імпортуємо напряму

- Не імпортуємо `json.dumps/json.loads` у бізнес-модулях для payload — використовуємо `core.serialization`.
- Не імпортуємо сторонні серіалізатори/форматтери напряму в різних місцях — спочатку додаємо їх у `core/*`, потім підключаємо.

## Анти-патерни

- **God-module**: модуль, що "знає про все" і робить і бізнес, і I/O, і форматування.
- **Utils-hell**: нескінченні `utils.py`/`helpers.py` з випадковими функціями без чіткої доменної зони.
